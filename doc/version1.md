## 简介

近期接触 Svg 比较多, 想着 Svg 能做些啥。看到 Process On 是一个应用的场景, 而且平时我们多少都会接触一些。使用人群比较多，就这样一拍脑袋决定做一个流程图的程序。

首先我们需要知道流程图需要哪些东西。页面主要分为物料区域、画布区域、操作栏。最终的产物就是在画布上绘制一些图形。  
所以我们的问题变成如何在画布上绘制出矩形、菱形、直线。这个时候就是 Svg 出场的时候了。


最近我接触到了Svg（可伸缩矢量图形）的技术，开始思考Svg能用来做些什么有趣的事情。我注意到流程图是一个常见的应用场景，我们在日常生活中经常会遇到一些流程图。因为流程图的使用人群众多，就这样一拍脑袋决定做一个流程图的程序。

首先，我们需要明确流程图软件需要哪些基本功能。主要的页面可以分为物料区域、画布区域和操作栏。而最终的目标就是在画布上绘制出各种形状的图形。

因此，我们面临的问题就变成了如何在画布上绘制矩形、菱形和直线等基本图形。这时候，Svg技术就派上用场了。

## Svg 

Svg（Scalable Vector Graphics）是一种基于XML的矢量图形格式，在前端开发中被广泛使用。与位图图像相比，Svg图像可以无损放大和缩小，适应不同的屏幕分辨率。

在前端开发中，我们可以使用Svg来创建各种形状和图标，以及实现动画效果。通过直接在HTML文件中插入Svg标签，我们可以定义并绘制出矢量图形。

Svg提供了丰富的元素和属性，例如rect（矩形）、circle（圆形）、path（路径）等，可以用于绘制不同的图形。我们可以通过设置这些元素的属性，如位置、大小、颜色，来控制图形的外观。

此外，Svg还支持CSS样式和JavaScript交互。我们可以为Svg元素应用CSS样式，使其更具吸引力和可定制性。而通过JavaScript，我们可以实现对Svg图形的动态操作和交互，如点击、拖拽、变形等。

我们这里使用 Svg 主要原因是它可以生成各种我们需要的形状。

## 画布上添加图形

从图中可以看出在画布上画出一个 rect 图形。
1. 首先有一个相对坐标轴，可能这个坐标轴的位置是相对浏览器左上角有一定偏移的。
2. 需要知道这个图形的坐标位置
3. 需要知道这个图形的宽高

```TS
// 描述图形位置和大小
class Bounds  {
  constructor(
    public width = 0,
    public height = 0,
    // 画布绝对位置
    public absX = 0,
    public absY = 0,
  ) { }
}
```